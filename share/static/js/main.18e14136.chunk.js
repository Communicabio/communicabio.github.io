(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(240)},231:function(e,t,a){e.exports=a.p+"static/media/communicabio.e8edc935.svg"},240:function(e,t,a){"use strict";a.r(t);a(178),a(202);var n=a(0),o=a.n(n),r=a(57),i=a.n(r),c=a(58),s=a.n(c),l=a(43),u=a(44),h=a(46),d=a(45),p=a(47),m=a(24),b=(a(218),a(219),a(220),a(221),a(35)),y=a(98),v=a.n(y),g=a(99),f=a.n(g),E=a(100),k=a.n(E),j=a(97),O=a.n(j),_=a(101),w=a.n(_),x=a(60),C=a.n(x),P=(a(222),a(223),a(85),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this))).props=e,console.log(a.props),a.get_chat_history=a.get_chat_history.bind(Object(b.a)(Object(b.a)(a))),a.state={history:a.get_chat_history(a.props.history)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"get_chat_history",value:function(){for(var e=this.state.history,t=[],a=0;a<e.length;a+=1)t.push({text:e[a],actor:a%2});return console.log("last_dialog "+t),t}},{key:"message2Cell",value:function(e){return 0==e.actor?o.a.createElement(C.a,{multiline:!0,before:o.a.createElement(O.a,{src:a(231)})},e.text):o.a.createElement(C.a,{multiline:!0},e.text)}},{key:"componentDidMount",value:function(){var e=document.createElement("script");e.text='VK.Widgets.Auth("vk_auth", {"authUrl":"/app"})',e.async=!0,document.body.appendChild(e)}},{key:"chatRender",value:function(){var e=this;return o.a.createElement(v.a,{id:this.props.id},o.a.createElement(f.a,null,"Communicabio"),o.a.createElement("div",{id:"vk_auth"}),o.a.createElement(k.a,{id:"chat-parent"},this.state.history.map(function(t){return o.a.createElement(w.a,{mode:{0:"shadow",1:"tint"}[t.actor],size:"l"},e.message2Cell(t))})))}},{key:"render",value:function(){return console.log("home-render"),console.log(this.props),null==this.state.popout?this.chatRender():"feedback"===this.state.popout?this.renderFeedbackPanel():"loading"===this.state.popout?this.loadigRender():this.state.popout}}]),t}(o.a.Component)),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={activePanel:"home",activeStory:"chat"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search;fetch("https://communicabio-server-b7e3qu3u4a-uc.a.run.app/dialog?"+new URLSearchParams({dialog:t})).then(function(t){e.setState({history:t.dialog})})}},{key:"renderHome",value:function(){return null==this.state.history?o.a.createElement(m.a,{id:"home"},o.a.createElement(m.b,{size:"large",style:{marginTop:50}})):o.a.createElement(P,{id:"home",history:this.state.history})}},{key:"render",value:function(){return o.a.createElement(m.c,{id:"chat",activePanel:this.state.activePanel},this.renderHome())}}]),t}(o.a.Component);s.a.send("VKWebAppInit",{}),i.a.render(o.a.createElement(R,null),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.18e14136.chunk.js.map