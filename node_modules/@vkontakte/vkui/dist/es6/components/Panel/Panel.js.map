{"version":3,"sources":["../../../../src/components/Panel/Panel.tsx"],"names":["React","Component","PropTypes","getClassName","classNames","Touch","tabbarHeight","withInsets","withPlatform","isNumeric","PanelContext","Panel","container","getRootRef","props","current","panel","id","separator","className","centered","children","insets","platform","restProps","tabbarPadding","context","hasTabbar","getContext","getRef","paddingBottom","bottom","bool"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiD,OAAjD;AACA,OAAOC,SAAP,MAAuC,YAAvC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,SAASC,YAAT,QAAgD,gBAAhD;;IAYMC,K;;;;;;;;;;;;;;;;;;6DAuB6B,UAACC,SAAD,EAA+B;AAC9D,YAAKA,SAAL,GAAiBA,SAAjB;AAEA,UAAMC,UAAU,GAAG,MAAKC,KAAL,CAAWD,UAA9B;;AACA,UAAIA,UAAJ,EAAgB;AACd,YAAI,OAAOA,UAAP,KAAsB,UAA1B,EAAsC;AACpCA,UAAAA,UAAU,CAACD,SAAD,CAAV;AACD,SAFD,MAEO;AACLC,UAAAA,UAAU,CAACE,OAAX,GAAqBH,SAArB;AACD;AACF;AACF,K;;;;;;;iCApB+B;AAC9B,aAAO;AACLI,QAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,EADb;AAELC,QAAAA,SAAS,EAAE,KAAKJ,KAAL,CAAWI;AAFjB,OAAP;AAID;;;6BAiBQ;AAAA,wBAC0F,KAAKJ,KAD/F;AAAA,UACCK,SADD,eACCA,SADD;AAAA,UACYC,QADZ,eACYA,QADZ;AAAA,UACsBC,QADtB,eACsBA,QADtB;AAAA,UACgCC,MADhC,eACgCA,MADhC;AAAA,UACwCC,QADxC,eACwCA,QADxC;AAAA,UACkDL,SADlD,eACkDA,SADlD;AAAA,UAC6DL,UAD7D,eAC6DA,UAD7D;AAAA,UAC4EW,SAD5E;;AAEP,UAAMC,aAAa,GAAG,KAAKC,OAAL,CAAaC,SAAb,GAAyBrB,YAAzB,GAAwC,CAA9D;AAEA,0BACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,QAAA,KAAK,EAAE,KAAKsB,UAAL;AAA9B,sBACE,wCACMJ,SADN;AAEE,QAAA,GAAG,EAAE,KAAKK,MAFZ;AAGE,QAAA,SAAS,EAAEzB,UAAU,CAACD,YAAY,CAAC,OAAD,EAAUoB,QAAV,CAAb,EAAkCJ,SAAlC,EAA6C;AAChE,6BAAmBC;AAD6C,SAA7C;AAHvB,uBAOE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,WAAjB;AAA6B,QAAA,KAAK,EAAE;AAClCU,UAAAA,aAAa,EAAErB,SAAS,CAACa,MAAM,CAACS,MAAR,CAAT,GAA2BT,MAAM,CAACS,MAAP,GAAgBN,aAA3C,GAA2D;AADxC;AAApC,sBAGE;AAAK,QAAA,SAAS,EAAC;AAAf,QAHF,EAIGL,QAAQ,gBAAG;AAAK,QAAA,SAAS,EAAC;AAAf,SAAkCC,QAAlC,CAAH,GAAuDA,QAJlE,eAKE;AAAK,QAAA,SAAS,EAAC;AAAf,QALF,CAPF,CADF,CADF;AAmBD;;;;EA3DiBpB,S;;gBAAdU,K,kBACuC;AACzCU,EAAAA,QAAQ,EAAE,EAD+B;AAEzCD,EAAAA,QAAQ,EAAE,KAF+B;;AAGzC;;;AAGAF,EAAAA,SAAS,EAAE;AAN8B,C;;gBADvCP,K,kBAUgC;AAClCgB,EAAAA,SAAS,EAAEzB,SAAS,CAAC8B;AADa,C;;AAoDtC,eAAexB,YAAY,CAACD,UAAU,CAACI,KAAD,CAAX,CAA3B","sourcesContent":["import React, { Component, HTMLAttributes } from 'react';\nimport PropTypes, { Requireable } from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Touch from '../Touch/Touch';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\nimport withPlatform from '../../hoc/withPlatform';\nimport { isNumeric } from '../../lib/utils';\nimport { HasInsets, HasPlatform, HasRootRef, OldRef } from '../../types';\nimport { PanelContext, PanelContextProps } from './PanelContext';\n\nexport interface PanelProps extends HTMLAttributes<HTMLDivElement>, HasPlatform, HasInsets, HasRootRef<HTMLDivElement> {\n  id: string;\n  separator?: boolean;\n  centered?: boolean;\n}\n\nexport interface PanelContext {\n  hasTabbar: Requireable<boolean>;\n}\n\nclass Panel extends Component<PanelProps> {\n  static defaultProps: Partial<PanelProps> = {\n    children: '',\n    centered: false,\n    /**\n     * @deprecated будет удалено в 4-й версии. Сепаратор теперь устанавливается в PanelHeader\n     */\n    separator: true,\n  };\n\n  static contextTypes: PanelContext = {\n    hasTabbar: PropTypes.bool,\n  };\n\n  getContext(): PanelContextProps {\n    return {\n      panel: this.props.id,\n      separator: this.props.separator,\n    };\n  }\n\n  container: HTMLDivElement;\n\n  getRef: OldRef<HTMLDivElement> = (container: HTMLDivElement) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render() {\n    const { className, centered, children, insets, platform, separator, getRootRef, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n\n    return (\n      <PanelContext.Provider value={this.getContext()}>\n        <div\n          {...restProps}\n          ref={this.getRef}\n          className={classNames(getClassName('Panel', platform), className, {\n            'Panel--centered': centered,\n          })}\n        >\n          <Touch className=\"Panel__in\" style={{\n            paddingBottom: isNumeric(insets.bottom) ? insets.bottom + tabbarPadding : null,\n          }}>\n            <div className=\"Panel__in-before\" />\n            {centered ? <div className=\"Panel__centered\">{children}</div> : children}\n            <div className=\"Panel__in-after\" />\n          </Touch>\n        </div>\n      </PanelContext.Provider>\n    );\n  }\n}\n\nexport default withPlatform(withInsets(Panel));\n"],"file":"Panel.js"}