{"version":3,"sources":["../../../../src/components/Touch/Touch.tsx"],"names":["React","Component","PropTypes","getSupportedEvents","coordX","coordY","touchEnabled","canUseDOM","events","Touch","props","e","gesture","startX","startY","startT","Date","isPressed","outputEvent","originalEvent","onStart","onStartX","onStartY","subscribe","document","isX","isY","shiftX","shiftY","shiftXAbs","Math","abs","shiftYAbs","touches","length","onEnd","willBeX","willBeY","willBeSlidedX","onMoveX","onMove","willBeSlidedY","onMoveY","isSlideX","isSlideY","isSlide","onEndY","onEndX","target","cancelClick","tagName","unsubscribe","preventDefault","onClick","container","getRootRef","current","addEventListener","capture","useCapture","passive","removeEventListener","element","listenerParams","restProps","onDragStart","getRef","children","context","object"],"mappings":"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","sourcesContent":["import React, { Component, HTMLAttributes, DragEvent, ElementType, MouseEvent } from 'react';\nimport PropTypes, { Requireable } from 'prop-types';\nimport {\n  getSupportedEvents,\n  coordX,\n  coordY,\n  touchEnabled,\n  VKUITouchEvent,\n  VKUITouchEventHander,\n} from '../../lib/touch';\nimport { HasRootRef, OldRef } from '../../types';\nimport { canUseDOM } from '../../lib/dom';\n\nexport interface TouchProps extends HTMLAttributes<HTMLElement>, HasRootRef<HTMLElement> {\n  onStart?(outputEvent: TouchEvent): void;\n  onStartX?(outputEvent: TouchEvent): void;\n  onStartY?(outputEvent: TouchEvent): void;\n  onMove?(outputEvent: TouchEvent): void;\n  onMoveX?(outputEvent: TouchEvent): void;\n  onMoveY?(outputEvent: TouchEvent): void;\n  onEnd?(outputEvent: TouchEvent): void;\n  onEndX?(outputEvent: TouchEvent): void;\n  onEndY?(outputEvent: TouchEvent): void;\n  useCapture?: boolean;\n  Component?: ElementType;\n}\n\nexport interface TouchContext {\n  document: Requireable<{}>;\n}\n\nexport interface Gesture {\n  startX?: number;\n  startY?: number;\n  startT?: Date;\n  isPressed?: boolean;\n  isY?: boolean;\n  isX?: boolean;\n  isSlideX?: boolean;\n  isSlideY?: boolean;\n  isSlide?: boolean;\n  shiftX?: number;\n  shiftY?: number;\n  shiftXAbs?: number;\n  shiftYAbs?: number;\n}\n\nexport interface TouchEvent extends Gesture {\n  originalEvent: VKUITouchEvent;\n}\n\nexport type TouchEventHandler = (e: TouchEvent) => void;\nexport type ClickHandler = (e: MouseEvent<HTMLElement>) => void;\nexport type DragHandler = (e: DragEvent<HTMLElement>) => void;\n\nconst events = getSupportedEvents();\n\nexport default class Touch extends Component<TouchProps> {\n  constructor(props: TouchProps) {\n    super(props);\n    this.cancelClick = false;\n  }\n\n  cancelClick: boolean;\n  gesture: Partial<Gesture> = {};\n  container: HTMLElement;\n\n  static defaultProps: TouchProps = {\n    Component: 'div',\n    children: '',\n    useCapture: false,\n  };\n\n  static contextTypes: TouchContext = {\n    document: PropTypes.object,\n  };\n\n  get document() {\n    return this.context.document || document;\n  }\n\n  componentDidMount() {\n    if (canUseDOM) {\n      this.container.addEventListener(events[0], this.onStart, { capture: this.props.useCapture, passive: false });\n      touchEnabled && this.subscribe(this.container);\n    }\n  }\n\n  componentWillUnmount() {\n    this.container.removeEventListener(events[0], this.onStart);\n    touchEnabled && this.unsubscribe(this.container);\n  }\n\n  /**\n   * Обработчик событий touchstart\n   *\n   * @param {Object} e Браузерное событие\n   * @return {void}\n   */\n  onStart: VKUITouchEventHander = (e: VKUITouchEvent) => {\n    this.gesture = {\n      startX: coordX(e),\n      startY: coordY(e),\n      startT: new Date(),\n      isPressed: true,\n    };\n\n    // Вызываем нужные колбеки из props\n    const outputEvent = {\n      ...this.gesture,\n      originalEvent: e,\n    };\n\n    if (this.props.onStart) {\n      this.props.onStart(outputEvent);\n    }\n\n    if (this.props.onStartX) {\n      this.props.onStartX(outputEvent);\n    }\n\n    if (this.props.onStartY) {\n      this.props.onStartY(outputEvent);\n    }\n\n    !touchEnabled && this.subscribe(this.document);\n  };\n\n  /**\n   * Обработчик событий touchmove\n   *\n   * @param {Object} e Браузерное событие\n   * @return {void}\n   */\n  onMove: VKUITouchEventHander = (e: VKUITouchEvent) => {\n    const { isPressed, isX, isY, startX, startY } = this.gesture;\n\n    if (isPressed) {\n      // смещения\n      const shiftX = coordX(e) - startX;\n      const shiftY = coordY(e) - startY;\n\n      // абсолютные значения смещений\n      const shiftXAbs = Math.abs(shiftX);\n      const shiftYAbs = Math.abs(shiftY);\n\n      // Если определяем мультитач, то прерываем жест\n      if (!!e.touches && e.touches.length > 1) {\n        return this.onEnd(e);\n      }\n\n      // если мы ещё не определились\n      if (!isX && !isY) {\n        let willBeX = shiftXAbs >= 5 && shiftXAbs > shiftYAbs;\n        let willBeY = shiftYAbs >= 5 && shiftYAbs > shiftXAbs;\n        let willBeSlidedX = willBeX && !!this.props.onMoveX || !!this.props.onMove;\n        let willBeSlidedY = willBeY && !!this.props.onMoveY || !!this.props.onMove;\n\n        this.gesture.isY = willBeY;\n        this.gesture.isX = willBeX;\n        this.gesture.isSlideX = willBeSlidedX;\n        this.gesture.isSlideY = willBeSlidedY;\n        this.gesture.isSlide = willBeSlidedX || willBeSlidedY;\n      }\n\n      if (this.gesture.isSlide) {\n        this.gesture.shiftX = shiftX;\n        this.gesture.shiftY = shiftY;\n        this.gesture.shiftXAbs = shiftXAbs;\n        this.gesture.shiftYAbs = shiftYAbs;\n\n        // Вызываем нужные колбеки из props\n        const outputEvent: TouchEvent = {\n          ...this.gesture,\n          originalEvent: e,\n        };\n\n        if (this.props.onMove) {\n          this.props.onMove(outputEvent);\n        }\n\n        if (this.gesture.isSlideX && this.props.onMoveX) {\n          this.props.onMoveX(outputEvent);\n        }\n\n        if (this.gesture.isSlideY && this.props.onMoveY) {\n          this.props.onMoveY(outputEvent);\n        }\n      }\n    }\n  };\n\n  /**\n   * Обработчик событий touchend, touchcancel\n   *\n   * @param {Object} e Браузерное событие\n   * @return {void}\n   */\n  onEnd: VKUITouchEventHander = (e: VKUITouchEvent) => {\n    const { isPressed, isSlide, isSlideX, isSlideY } = this.gesture;\n\n    if (isPressed) {\n      // Вызываем нужные колбеки из props\n      const outputEvent: TouchEvent = {\n        ...this.gesture,\n        originalEvent: e,\n      };\n\n      if (this.props.onEnd) {\n        this.props.onEnd(outputEvent);\n      }\n\n      if (isSlideY && this.props.onEndY) {\n        this.props.onEndY(outputEvent);\n      }\n\n      if (isSlideX && this.props.onEndX) {\n        this.props.onEndX(outputEvent);\n      }\n    }\n\n    const target = e.target as HTMLElement;\n\n    // Если закончили жест на ссылке, выставляем флаг для отмены перехода\n    this.cancelClick = target.tagName === 'A' && isSlide;\n    this.gesture = {};\n\n    !touchEnabled && this.unsubscribe(this.document);\n  };\n\n  subscribe(element: HTMLElement) {\n    const listenerParams = { capture: this.props.useCapture, passive: false };\n    element.addEventListener(events[1], this.onMove, listenerParams);\n    element.addEventListener(events[2], this.onEnd, listenerParams);\n    element.addEventListener(events[3], this.onEnd, listenerParams);\n  }\n\n  unsubscribe(element: HTMLElement) {\n    // Здесь нужен последний аргумент с такими же параметрами, потому что\n    // некоторые браузеры на странных вендорах типа Meizu не удаляют обработчик.\n    // https://github.com/VKCOM/VKUI/issues/444\n    const listenerParams = { capture: this.props.useCapture, passive: false };\n    element.removeEventListener(events[1], this.onMove, listenerParams);\n    element.removeEventListener(events[2], this.onEnd, listenerParams);\n    element.removeEventListener(events[3], this.onEnd, listenerParams);\n  }\n\n  /**\n   * Обработчик событий dragstart\n   * Отменяет нативное браузерное поведение для вложенных ссылок и изображений\n   *\n   * @param {Object} e Браузерное событие\n   * @return {void}\n   */\n  onDragStart: DragHandler = (e: DragEvent<HTMLElement>) => {\n    const target = e.target as HTMLElement;\n    if (target.tagName === 'A' || target.tagName === 'IMG') {\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Обработчик клика по компоненту\n   * Отменяет переход по вложенной ссылке, если был зафиксирован свайп\n   *\n   * @param {Object} e Браузерное событие\n   * @return {void}\n   */\n  onClick: ClickHandler = (e: MouseEvent<HTMLElement>) => {\n    if (this.cancelClick) {\n      this.cancelClick = false;\n      e.preventDefault();\n    }\n    this.props.onClick && this.props.onClick(e);\n  };\n\n  getRef: OldRef<HTMLElement> = (container: HTMLElement) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render() {\n    const {\n      onStart,\n      onStartX,\n      onStartY,\n      onMove,\n      onMoveX,\n      onMoveY,\n      onEnd,\n      onEndX,\n      onEndY,\n      useCapture,\n      Component,\n      getRootRef,\n      ...restProps\n    } = this.props;\n\n    return (\n      <Component {...restProps} onDragStart={this.onDragStart} onClick={this.onClick} ref={this.getRef}>\n        {this.props.children}\n      </Component>\n    );\n  }\n}\n"],"file":"Touch.js"}