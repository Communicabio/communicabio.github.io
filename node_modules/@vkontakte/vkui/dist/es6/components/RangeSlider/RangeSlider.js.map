{"version":3,"sources":["../../../../src/components/RangeSlider/RangeSlider.tsx"],"names":["React","Component","createRef","Touch","getClassName","classNames","precisionRound","withPlatform","canUseDOM","RangeSlider","props","e","absolutePosition","validateAbsolute","startX","state","containerLeft","percentPosition","absoluteToPecent","calcPercentRange","percentStart","percentEnd","onChange","percentToValue","isControlledOutside","setState","target","originalEvent","thumb","closest","thumbStart","current","active","thumbEnd","shiftX","preventDefault","callback","container","offsetLeft","containerWidth","offsetWidth","getRootRef","hasOwnProperty","value","absolute","res","Math","max","min","step","stepCount","absStep","round","percent","abs","stepFloatPart","split","length","valueStart","valueEnd","window","addEventListener","onResize","validatePercent","valueToPercent","prevProps","removeEventListener","className","defaultValue","platform","top","bottom","restProps","getRef","onStart","onMoveX","onEnd","width","left"],"mappings":"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","sourcesContent":["import React, { Component, createRef, HTMLAttributes, RefObject } from 'react';\nimport Touch, { TouchEvent, TouchEventHandler } from '../Touch/Touch';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { HasFormLabels, HasPlatform, HasRootRef, OldRef } from '../../types';\nimport { OnSliderResize, precisionRound } from '../Slider/Slider';\nimport withPlatform from '../../hoc/withPlatform';\nimport { canUseDOM } from '../../lib/dom';\n\nexport type Value = [number, number];\n\nexport interface RangeSliderProps extends\n  HasRootRef<HTMLDivElement>,\n  HasPlatform,\n  Omit<HTMLAttributes<HTMLDivElement>, 'value' | 'defaultValue' | 'onChange'>,\n  HasFormLabels {\n  min?: number;\n  max?: number;\n  step?: number;\n  value?: Value;\n  defaultValue?: Value;\n  onChange?(value: Value, e: TouchEvent): void;\n}\n\nexport interface RangeSliderState {\n  containerLeft: number;\n  startX: number;\n  percentStart: number;\n  percentEnd: number;\n  active: 'start' | 'end' | null;\n  containerWidth: number;\n}\n\nclass RangeSlider extends Component<RangeSliderProps, RangeSliderState> {\n  constructor(props: RangeSliderProps) {\n    super(props);\n    this.state = {\n      startX: 0,\n      containerLeft: 0,\n      percentStart: 0,\n      percentEnd: 0,\n      active: null,\n      containerWidth: 0,\n    };\n    this.isControlledOutside = this.props.hasOwnProperty('value');\n    this.thumbStart = createRef();\n    this.thumbEnd = createRef();\n  }\n\n  static defaultProps: RangeSliderProps = {\n    min: 0,\n    max: 100,\n    step: 0,\n  };\n\n  isControlledOutside: boolean;\n\n  container: HTMLDivElement;\n\n  thumbStart: RefObject<HTMLDivElement>;\n  thumbEnd: RefObject<HTMLDivElement>;\n\n  onStart: TouchEventHandler = (e: TouchEvent) => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const { percentStart, percentEnd } = this.calcPercentRange(percentPosition);\n\n    this.onChange([this.percentToValue(percentStart), this.percentToValue(percentEnd)], e);\n\n    if (this.isControlledOutside) {\n      this.setState({ startX: absolutePosition });\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        percentStart,\n        percentEnd,\n      });\n    }\n\n    const target = e.originalEvent.target as HTMLElement;\n\n    const thumb = target.closest('.Slider__thumb');\n\n    if (thumb === this.thumbStart.current) {\n      this.setState({ active: 'start' });\n    } else if (thumb === this.thumbEnd.current) {\n      this.setState({ active: 'end' });\n    }\n  };\n\n  onMoveX: TouchEventHandler = (e: TouchEvent) => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const { percentStart, percentEnd } = this.calcPercentRange(percentPosition);\n\n    this.onChange([this.percentToValue(percentStart), this.percentToValue(percentEnd)], e);\n\n    if (!this.isControlledOutside) {\n      this.setState({\n        percentStart,\n        percentEnd,\n      });\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  onEnd: TouchEventHandler = () => {\n    this.setState({\n      active: null,\n    });\n  };\n\n  onResize: OnSliderResize = (callback?: VoidFunction | Event) => {\n    this.setState({\n      containerLeft: this.container.offsetLeft,\n      containerWidth: this.container.offsetWidth,\n    }, () => {\n      typeof callback === 'function' && callback();\n    });\n  };\n\n  onChange(value: Value, e: TouchEvent) {\n    this.props.onChange && this.props.onChange(value, e);\n  }\n\n  validateAbsolute(absolute: number) {\n    let res = Math.max(0, Math.min(absolute, this.state.containerWidth));\n\n    if (this.props.step > 0) {\n      const stepCount = (this.props.max - this.props.min) / this.props.step;\n      const absStep = this.state.containerWidth / stepCount;\n\n      res = Math.round(res / absStep) * absStep;\n    }\n\n    return res;\n  }\n\n  validatePercent({ percentStart, percentEnd }: { percentStart: number; percentEnd: number }) {\n    return {\n      percentStart: Math.max(0, Math.min(percentStart, 100)),\n      percentEnd: Math.max(0, Math.min(percentEnd, 100)),\n    };\n  }\n\n  absoluteToPecent(absolute: number) {\n    return absolute * 100 / this.state.containerWidth;\n  }\n\n  calcPercentRange(percent: number) {\n    const { percentStart, percentEnd } = this.state;\n\n    if (percentStart === 100) {\n      return { percentStart: percent, percentEnd };\n    } else if (percentEnd === 0) {\n      return { percentEnd: percent, percentStart };\n    } else if (Math.abs(percentStart - percent) <= Math.abs(percentEnd - percent)) {\n      return { percentStart: percent, percentEnd };\n    } else {\n      return { percentEnd: percent, percentStart };\n    }\n  }\n\n  percentToValue(percent: number) {\n    const res = percent * (this.props.max - this.props.min) / 100 + this.props.min;\n    if (this.props.step > 0) {\n      const stepFloatPart = `${this.props.step}`.split('.')[1] || '';\n      return precisionRound(res, stepFloatPart.length);\n    }\n    return res;\n  }\n\n  valueToPercent([valueStart, valueEnd]: Value) {\n    return {\n      percentStart: (valueStart - this.props.min) * 100 / (this.props.max - this.props.min),\n      percentEnd: (valueEnd - this.props.min) * 100 / (this.props.max - this.props.min),\n    };\n  }\n\n  get value(): Value {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return [this.props.min, this.props.max];\n    }\n  }\n\n  componentDidMount() {\n    if (canUseDOM) {\n      window.addEventListener('resize', this.onResize);\n      this.onResize(() => {\n        this.setState(this.validatePercent(this.valueToPercent(this.value)));\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps: RangeSliderProps) {\n    if (this.isControlledOutside && prevProps.value !== this.props.value) {\n      this.setState(this.validatePercent(this.valueToPercent(this.props.value)));\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  getRef: OldRef<HTMLDivElement> = (container: HTMLDivElement) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render() {\n    const { className, min, max, step, value, defaultValue,\n      onChange, getRootRef, platform, top, bottom, ...restProps } = this.props;\n\n    return (\n      <div\n        {...restProps}\n        className={classNames(getClassName('Slider', platform), className)}\n        ref={this.getRef}\n      >\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div\n            className=\"Slider__dragger\"\n            style={{\n              width: `${this.state.percentEnd - this.state.percentStart}%`,\n              left: `${this.state.percentStart}%`,\n            }}\n          >\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--start', {\n                'Slider__thumb--active': this.state.active === 'start',\n              })}\n              ref={this.thumbStart}\n            />\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active === 'end',\n              })}\n              ref={this.thumbEnd}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n\nexport default withPlatform(RangeSlider);\n"],"file":"RangeSlider.js"}