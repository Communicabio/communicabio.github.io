{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], t) : t((e = e || self).vkBridge = {});\n}(this, function (e) {\n  \"use strict\";\n\n  var _a = function a() {\n    return (_a = Object.assign || function (e) {\n      for (var t, n = 1, o = arguments.length; n < o; n++) {\n        for (var r in t = arguments[n]) {\n          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  function u() {\n    for (var e = 0, t = 0, n = arguments.length; t < n; t++) {\n      e += arguments[t].length;\n    }\n\n    var o = Array(e),\n        r = 0;\n\n    for (t = 0; t < n; t++) {\n      for (var i = arguments[t], p = 0, a = i.length; p < a; p++, r++) {\n        o[r] = i[p];\n      }\n    }\n\n    return o;\n  }\n\n  function o(i, e) {\n    var o,\n        r,\n        p = (o = {\n      current: 0,\n      next: function next() {\n        return ++this.current;\n      }\n    }, r = {}, {\n      add: function add(e, t) {\n        var n = null != t ? t : o.next();\n        return r[n] = e, n;\n      },\n      resolve: function resolve(e, t, n) {\n        var o = r[e];\n        o && (n(t) ? o.resolve(t) : o.reject(t), r[e] = null);\n      }\n    });\n    return e(function (e) {\n      if (e.detail && e.detail.data && \"request_id\" in e.detail.data) {\n        var t = e.detail.data,\n            n = t.request_id,\n            o = function (e, t) {\n          var n = {};\n\n          for (var o in e) {\n            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);\n          }\n\n          if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n            var r = 0;\n\n            for (o = Object.getOwnPropertySymbols(e); r < o.length; r++) {\n              t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);\n            }\n          }\n\n          return n;\n        }(t, [\"request_id\"]);\n\n        n && p.resolve(n, o, function (e) {\n          return !(\"error_type\" in e);\n        });\n      }\n    }), function (o, r) {\n      return void 0 === r && (r = {}), new Promise(function (e, t) {\n        var n = p.add({\n          resolve: e,\n          reject: t\n        }, r.request_id);\n        i(o, _a(_a({}, r), {\n          request_id: n\n        }));\n      });\n    };\n  }\n\n  var t = \"undefined\" != typeof window,\n      d = Boolean(t && window.AndroidBridge),\n      s = Boolean(t && window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.VKWebAppClose),\n      f = t && !d && !s,\n      n = f && /(^\\?|&)vk_platform=mobile_web(&|$)/.test(location.search),\n      r = f ? \"message\" : \"VKWebAppEvent\",\n      l = u([\"VKWebAppInit\", \"VKWebAppGetCommunityAuthToken\", \"VKWebAppAddToCommunity\", \"VKWebAppGetUserInfo\", \"VKWebAppSetLocation\", \"VKWebAppGetClientVersion\", \"VKWebAppGetPhoneNumber\", \"VKWebAppGetEmail\", \"VKWebAppGetGeodata\", \"VKWebAppSetTitle\", \"VKWebAppGetAuthToken\", \"VKWebAppCallAPIMethod\", \"VKWebAppJoinGroup\", \"VKWebAppLeaveGroup\", \"VKWebAppAllowMessagesFromGroup\", \"VKWebAppDenyNotifications\", \"VKWebAppAllowNotifications\", \"VKWebAppOpenPayForm\", \"VKWebAppOpenApp\", \"VKWebAppShare\", \"VKWebAppShowWallPostBox\", \"VKWebAppScroll\", \"VKWebAppShowOrderBox\", \"VKWebAppShowLeaderBoardBox\", \"VKWebAppShowInviteBox\", \"VKWebAppShowRequestBox\", \"VKWebAppAddToFavorites\", \"VKWebAppShowCommunityWidgetPreviewBox\", \"VKWebAppShowStoryBox\", \"VKWebAppStorageGet\", \"VKWebAppStorageGetKeys\", \"VKWebAppStorageSet\"], f && !n ? [\"VKWebAppResizeWindow\", \"VKWebAppAddToMenu\"] : []),\n      c = t ? window.AndroidBridge : void 0,\n      b = s ? window.webkit.messageHandlers : void 0;\n\n  function i(e, t) {\n    var n = t || {\n      bubbles: !1,\n      cancelable: !1,\n      detail: void 0\n    },\n        o = document.createEvent(\"CustomEvent\");\n    return o.initCustomEvent(e, !!n.bubbles, !!n.cancelable, n.detail), o;\n  }\n\n  \"undefined\" == typeof window || window.CustomEvent || (window.CustomEvent = (i.prototype = Event.prototype, i));\n\n  var p = function (n) {\n    var i = void 0,\n        p = [];\n\n    function e(e) {\n      p.push(e);\n    }\n\n    \"undefined\" != typeof window && \"addEventListener\" in window && window.addEventListener(r, function (t) {\n      if (s || d) return u(p).map(function (e) {\n        return e.call(null, t);\n      });\n\n      if (f && t && t.data) {\n        var e = t.data,\n            n = e.type,\n            o = e.data,\n            r = e.frameId;\n        n && \"VKWebAppSettings\" === n ? i = r : u(p).map(function (e) {\n          return e({\n            detail: {\n              type: n,\n              data: o\n            }\n          });\n        });\n      }\n    });\n    var t = o(function (e, t) {\n      c && c[e] ? c[e](JSON.stringify(t)) : b && b[e] && \"function\" == typeof b[e].postMessage ? b[e].postMessage(t) : f && parent.postMessage({\n        handler: e,\n        params: t,\n        type: \"vk-connect\",\n        webFrameId: i,\n        connectVersion: n\n      }, \"*\");\n    }, e);\n    return {\n      send: t,\n      sendPromise: t,\n      subscribe: e,\n      unsubscribe: function unsubscribe(e) {\n        var t = p.indexOf(e);\n        -1 < t && p.splice(t, 1);\n      },\n      supports: function supports(e) {\n        return d ? !(!c || \"function\" != typeof c[e]) : s ? !(!b || !b[e] || \"function\" != typeof b[e].postMessage) : f && -1 < l.indexOf(e);\n      },\n      isWebView: function isWebView() {\n        return s || d;\n      }\n    };\n  }(\"2.2.2\");\n\n  e.applyMiddleware = function e() {\n    for (var o = [], t = 0; t < arguments.length; t++) {\n      o[t] = arguments[t];\n    }\n\n    return o.includes(void 0) || o.includes(null) ? e.apply(void 0, o.filter(function (e) {\n      return \"function\" == typeof e;\n    })) : function (n) {\n      if (0 === o.length) return n;\n      var e,\n          t = {\n        subscribe: n.subscribe,\n        send: function send() {\n          for (var e = [], t = 0; t < arguments.length; t++) {\n            e[t] = arguments[t];\n          }\n\n          return n.send.apply(n, e);\n        }\n      };\n      return e = o.filter(function (e) {\n        return \"function\" == typeof e;\n      }).map(function (e) {\n        return e(t);\n      }).reduce(function (t, n) {\n        return function (e) {\n          return t(n(e));\n        };\n      })(n.send), _a(_a({}, n), {\n        send: e\n      });\n    };\n  }, e.default = p, Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n});","map":{"version":3,"sources":["/home/aishutin/DL/communicabio.github.io/node_modules/@vkontakte/vk-bridge/dist/index.umd.js"],"names":["e","t","exports","module","define","amd","self","vkBridge","a","Object","assign","n","o","arguments","length","r","prototype","hasOwnProperty","call","apply","u","Array","i","p","current","next","add","resolve","reject","detail","data","request_id","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Promise","window","d","Boolean","AndroidBridge","s","webkit","messageHandlers","VKWebAppClose","f","test","location","search","l","c","b","bubbles","cancelable","document","createEvent","initCustomEvent","CustomEvent","Event","push","addEventListener","map","type","frameId","JSON","stringify","postMessage","parent","handler","params","webFrameId","connectVersion","send","sendPromise","subscribe","unsubscribe","splice","supports","isWebView","applyMiddleware","includes","filter","reduce","default","defineProperty","value"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=e||self).vkBridge={})}(this,function(e){\"use strict\";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],p=0,a=i.length;p<a;p++,r++)o[r]=i[p];return o}function o(i,e){var o,r,p=(o={current:0,next:function(){return++this.current}},r={},{add:function(e,t){var n=null!=t?t:o.next();return r[n]=e,n},resolve:function(e,t,n){var o=r[e];o&&(n(t)?o.resolve(t):o.reject(t),r[e]=null)}});return e(function(e){if(e.detail&&e.detail.data&&\"request_id\"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,[\"request_id\"]);n&&p.resolve(n,o,function(e){return!(\"error_type\"in e)})}}),function(o,r){return void 0===r&&(r={}),new Promise(function(e,t){var n=p.add({resolve:e,reject:t},r.request_id);i(o,a(a({},r),{request_id:n}))})}}var t=\"undefined\"!=typeof window,d=Boolean(t&&window.AndroidBridge),s=Boolean(t&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),f=t&&!d&&!s,n=f&&/(^\\?|&)vk_platform=mobile_web(&|$)/.test(location.search),r=f?\"message\":\"VKWebAppEvent\",l=u([\"VKWebAppInit\",\"VKWebAppGetCommunityAuthToken\",\"VKWebAppAddToCommunity\",\"VKWebAppGetUserInfo\",\"VKWebAppSetLocation\",\"VKWebAppGetClientVersion\",\"VKWebAppGetPhoneNumber\",\"VKWebAppGetEmail\",\"VKWebAppGetGeodata\",\"VKWebAppSetTitle\",\"VKWebAppGetAuthToken\",\"VKWebAppCallAPIMethod\",\"VKWebAppJoinGroup\",\"VKWebAppLeaveGroup\",\"VKWebAppAllowMessagesFromGroup\",\"VKWebAppDenyNotifications\",\"VKWebAppAllowNotifications\",\"VKWebAppOpenPayForm\",\"VKWebAppOpenApp\",\"VKWebAppShare\",\"VKWebAppShowWallPostBox\",\"VKWebAppScroll\",\"VKWebAppShowOrderBox\",\"VKWebAppShowLeaderBoardBox\",\"VKWebAppShowInviteBox\",\"VKWebAppShowRequestBox\",\"VKWebAppAddToFavorites\",\"VKWebAppShowCommunityWidgetPreviewBox\",\"VKWebAppShowStoryBox\",\"VKWebAppStorageGet\",\"VKWebAppStorageGetKeys\",\"VKWebAppStorageSet\"],f&&!n?[\"VKWebAppResizeWindow\",\"VKWebAppAddToMenu\"]:[]),c=t?window.AndroidBridge:void 0,b=s?window.webkit.messageHandlers:void 0;function i(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),o}\"undefined\"==typeof window||window.CustomEvent||(window.CustomEvent=(i.prototype=Event.prototype,i));var p=function(n){var i=void 0,p=[];function e(e){p.push(e)}\"undefined\"!=typeof window&&\"addEventListener\"in window&&window.addEventListener(r,function(t){if(s||d)return u(p).map(function(e){return e.call(null,t)});if(f&&t&&t.data){var e=t.data,n=e.type,o=e.data,r=e.frameId;n&&\"VKWebAppSettings\"===n?i=r:u(p).map(function(e){return e({detail:{type:n,data:o}})})}});var t=o(function(e,t){c&&c[e]?c[e](JSON.stringify(t)):b&&b[e]&&\"function\"==typeof b[e].postMessage?b[e].postMessage(t):f&&parent.postMessage({handler:e,params:t,type:\"vk-connect\",webFrameId:i,connectVersion:n},\"*\")},e);return{send:t,sendPromise:t,subscribe:e,unsubscribe:function(e){var t=p.indexOf(e);-1<t&&p.splice(t,1)},supports:function(e){return d?!(!c||\"function\"!=typeof c[e]):s?!(!b||!b[e]||\"function\"!=typeof b[e].postMessage):f&&-1<l.indexOf(e)},isWebView:function(){return s||d}}}(\"2.2.2\");e.applyMiddleware=function e(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return o.includes(void 0)||o.includes(null)?e.apply(void 0,o.filter(function(e){return\"function\"==typeof e})):function(n){if(0===o.length)return n;var e,t={subscribe:n.subscribe,send:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.send.apply(n,e)}};return e=o.filter(function(e){return\"function\"==typeof e}).map(function(e){return e(t)}).reduce(function(t,n){return function(e){return t(n(e))}})(n.send),a(a({},n),{send:e})}},e.default=p,Object.defineProperty(e,\"__esModule\",{value:!0})});\n"]},"metadata":{},"sourceType":"script"}