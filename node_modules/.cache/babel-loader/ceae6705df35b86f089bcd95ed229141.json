{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSupportedEvents = getSupportedEvents;\nexports.rubber = rubber;\nexports.touchEnabled = exports.coordY = exports.coordX = void 0;\n/*\n * Получает кординату по оси абсцисс из touch- или mouse-события\n */\n\nvar coordX = function coordX(e) {\n  return e.clientX || e.changedTouches && e.changedTouches[0].clientX;\n};\n/*\n * Получает кординату по оси ординат из touch- или mouse-события\n */\n\n\nexports.coordX = coordX;\n\nvar coordY = function coordY(e) {\n  return e.clientY || e.changedTouches && e.changedTouches[0].clientY;\n};\n\nexports.coordY = coordY;\nvar isClient = typeof window !== 'undefined';\nvar touchEnabled = isClient && 'ontouchstart' in window;\n/*\n * Возвращает массив поддерживаемых событий\n * Если браузер поддерживает pointer events или подключена handjs, вернет события указателя.\n * Если нет, используем события мыши\n */\n\nexports.touchEnabled = touchEnabled;\n\nfunction getSupportedEvents() {\n  if (touchEnabled) {\n    return ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  return ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n}\n/*\n * Рассчитывает \"сопротивление\" для iOS тач-событий\n */\n\n\nfunction rubber(offset, dimension, resistanceRate, isAndroid) {\n  if (isAndroid || offset < 0) {\n    return offset;\n  }\n\n  var offsettedResistance = offset * resistanceRate;\n  return offsettedResistance * dimension / (offsettedResistance + dimension);\n}","map":{"version":3,"sources":["../../src/lib/touch.ts"],"names":["coordX","e","coordY","isClient","touchEnabled","isAndroid","offset","offsettedResistance"],"mappings":";;;;;;;;AAGA;;;;AAGA,IAAMA,MAAM,GAAG,SAATA,MAAS,CAAA,CAAA,EAAA;AAAA,SAA+BC,CAAC,CAADA,OAAAA,IAAaA,CAAC,CAADA,cAAAA,IAAoBA,CAAC,CAADA,cAAAA,CAAAA,CAAAA,EAAhE,OAAA;AAAf,CAAA;AAEA;;;;;;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAA,CAAA,EAAA;AAAA,SAA+BD,CAAC,CAADA,OAAAA,IAAaA,CAAC,CAADA,cAAAA,IAAoBA,CAAC,CAADA,cAAAA,CAAAA,CAAAA,EAAhE,OAAA;AAAf,CAAA;;;AAEA,IAAME,QAAiB,GAAG,OAAA,MAAA,KAA1B,WAAA;AACA,IAAMC,YAAqB,GAAGD,QAAQ,IAAI,kBAA1C,MAAA;AAEA;;;;;;;;AAKA,SAAA,kBAAA,GAAwC;AACtC,MAAA,YAAA,EAAkB;AAChB,WAAO,CAAA,YAAA,EAAA,WAAA,EAAA,UAAA,EAAP,aAAO,CAAP;AACD;;AAED,SAAO,CAAA,WAAA,EAAA,WAAA,EAAA,SAAA,EAAP,YAAO,CAAP;AACD;AAED;;;;;AAGA,SAAA,MAAA,CAAA,MAAA,EAAA,SAAA,EAAA,cAAA,EAAA,SAAA,EAAuG;AACrG,MAAIE,SAAS,IAAIC,MAAM,GAAvB,CAAA,EAA6B;AAC3B,WAAA,MAAA;AACD;;AAED,MAAMC,mBAAmB,GAAGD,MAAM,GAAlC,cAAA;AACA,SAAOC,mBAAmB,GAAnBA,SAAAA,IAAmCA,mBAAmB,GAA7D,SAAOA,CAAP;AACD","sourcesContent":["export interface VKUITouchEvent extends MouseEvent, TouchEvent {}\nexport type VKUITouchEventHander = (e: VKUITouchEvent) => void;\n\n/*\n * Получает кординату по оси абсцисс из touch- или mouse-события\n */\nconst coordX = (e: VKUITouchEvent): number => e.clientX || e.changedTouches && e.changedTouches[0].clientX;\n\n/*\n * Получает кординату по оси ординат из touch- или mouse-события\n */\nconst coordY = (e: VKUITouchEvent): number => e.clientY || e.changedTouches && e.changedTouches[0].clientY;\n\nconst isClient: boolean = typeof window !== 'undefined';\nconst touchEnabled: boolean = isClient && 'ontouchstart' in window;\n\n/*\n * Возвращает массив поддерживаемых событий\n * Если браузер поддерживает pointer events или подключена handjs, вернет события указателя.\n * Если нет, используем события мыши\n */\nfunction getSupportedEvents(): string[] {\n  if (touchEnabled) {\n    return ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  return ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n}\n\n/*\n * Рассчитывает \"сопротивление\" для iOS тач-событий\n */\nfunction rubber(offset: number, dimension: number, resistanceRate: number, isAndroid: boolean): number {\n  if (isAndroid || offset < 0) {\n    return offset;\n  }\n\n  const offsettedResistance = offset * resistanceRate;\n  return offsettedResistance * dimension / (offsettedResistance + dimension);\n}\n\nexport { getSupportedEvents, coordX, coordY, touchEnabled, rubber };\n"]},"metadata":{},"sourceType":"script"}