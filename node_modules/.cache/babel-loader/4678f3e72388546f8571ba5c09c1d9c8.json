{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Touch from '../Touch/Touch';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\nimport withPlatform from '../../hoc/withPlatform';\nimport { isNumeric } from '../../lib/utils';\nimport { PanelContext } from './PanelContext';\n\nvar Panel = /*#__PURE__*/function (_Component) {\n  _inherits(Panel, _Component);\n\n  var _super = _createSuper(Panel);\n\n  function Panel() {\n    var _this;\n\n    _classCallCheck(this, Panel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getRef\", function (container) {\n      _this.container = container;\n      var getRootRef = _this.props.getRootRef;\n\n      if (getRootRef) {\n        if (typeof getRootRef === 'function') {\n          getRootRef(container);\n        } else {\n          getRootRef.current = container;\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Panel, [{\n    key: \"getContext\",\n    value: function getContext() {\n      return {\n        panel: this.props.id,\n        separator: this.props.separator\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          centered = _this$props.centered,\n          children = _this$props.children,\n          insets = _this$props.insets,\n          platform = _this$props.platform,\n          separator = _this$props.separator,\n          getRootRef = _this$props.getRootRef,\n          restProps = _objectWithoutProperties(_this$props, [\"className\", \"centered\", \"children\", \"insets\", \"platform\", \"separator\", \"getRootRef\"]);\n\n      var tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n      return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n        value: this.getContext()\n      }, /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n        ref: this.getRef,\n        className: classNames(getClassName('Panel', platform), className, {\n          'Panel--centered': centered\n        })\n      }), /*#__PURE__*/React.createElement(Touch, {\n        className: \"Panel__in\",\n        style: {\n          paddingBottom: isNumeric(insets.bottom) ? insets.bottom + tabbarPadding : null\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel__in-before\"\n      }), centered ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel__centered\"\n      }, children) : children, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel__in-after\"\n      }))));\n    }\n  }]);\n\n  return Panel;\n}(Component);\n\n_defineProperty(Panel, \"defaultProps\", {\n  children: '',\n  centered: false,\n\n  /**\n   * @deprecated будет удалено в 4-й версии. Сепаратор теперь устанавливается в PanelHeader\n   */\n  separator: true\n});\n\n_defineProperty(Panel, \"contextTypes\", {\n  hasTabbar: PropTypes.bool\n});\n\nexport default withPlatform(withInsets(Panel));","map":{"version":3,"sources":["../../../../src/components/Panel/Panel.tsx"],"names":["Panel","Component","children","centered","separator","hasTabbar","PropTypes","bool","panel","getRootRef","className","insets","platform","restProps","tabbarPadding","classNames","getClassName","paddingBottom","isNumeric","withPlatform","withInsets"],"mappings":"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","sourcesContent":["import React, { Component, HTMLAttributes } from 'react';\nimport PropTypes, { Requireable } from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Touch from '../Touch/Touch';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\nimport withPlatform from '../../hoc/withPlatform';\nimport { isNumeric } from '../../lib/utils';\nimport { HasInsets, HasPlatform, HasRootRef, OldRef } from '../../types';\nimport { PanelContext, PanelContextProps } from './PanelContext';\n\nexport interface PanelProps extends HTMLAttributes<HTMLDivElement>, HasPlatform, HasInsets, HasRootRef<HTMLDivElement> {\n  id: string;\n  separator?: boolean;\n  centered?: boolean;\n}\n\nexport interface PanelContext {\n  hasTabbar: Requireable<boolean>;\n}\n\nclass Panel extends Component<PanelProps> {\n  static defaultProps: Partial<PanelProps> = {\n    children: '',\n    centered: false,\n    /**\n     * @deprecated будет удалено в 4-й версии. Сепаратор теперь устанавливается в PanelHeader\n     */\n    separator: true,\n  };\n\n  static contextTypes: PanelContext = {\n    hasTabbar: PropTypes.bool,\n  };\n\n  getContext(): PanelContextProps {\n    return {\n      panel: this.props.id,\n      separator: this.props.separator,\n    };\n  }\n\n  container: HTMLDivElement;\n\n  getRef: OldRef<HTMLDivElement> = (container: HTMLDivElement) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render() {\n    const { className, centered, children, insets, platform, separator, getRootRef, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n\n    return (\n      <PanelContext.Provider value={this.getContext()}>\n        <div\n          {...restProps}\n          ref={this.getRef}\n          className={classNames(getClassName('Panel', platform), className, {\n            'Panel--centered': centered,\n          })}\n        >\n          <Touch className=\"Panel__in\" style={{\n            paddingBottom: isNumeric(insets.bottom) ? insets.bottom + tabbarPadding : null,\n          }}>\n            <div className=\"Panel__in-before\" />\n            {centered ? <div className=\"Panel__centered\">{children}</div> : children}\n            <div className=\"Panel__in-after\" />\n          </Touch>\n        </div>\n      </PanelContext.Provider>\n    );\n  }\n}\n\nexport default withPlatform(withInsets(Panel));\n"]},"metadata":{},"sourceType":"module"}